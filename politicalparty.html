<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Political Parties: US Government</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #1e3a8a; /* Dark Blue */
            --color-secondary: #dc2626; /* Red */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        .section-heading {
            border-left: 6px solid var(--color-secondary);
        }
        .card-shadow {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        /* Fix for dynamic hover effect on mobile/desktop by using inline styles via JS */
    </style>
</head>
<body class="text-gray-800">

    <!-- Header and Language Switch -->
    <header class="sticky top-0 bg-white shadow-lg z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 id="main-title" class="text-3xl font-extrabold text-gray-900 tracking-tight"></h1>
            <button id="lang-switch-btn" onclick="toggleLanguage()" 
                    class="px-4 py-2 bg-gray-200 text-gray-700 font-semibold rounded-full hover:bg-gray-300 transition duration-150 ease-in-out text-sm sm:text-base">
                Switch to Spanish
            </button>
        </div>
    </header>

    <!-- Main Content Grid -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
        
        <!-- Foundational Definitions -->
        <section class="mb-12">
            <h2 id="defs-title" class="section-heading text-2xl sm:text-3xl font-bold pl-4 mb-6"></h2>
            <div id="defs-content" class="grid md:grid-cols-2 gap-6 lg:gap-8">
                <!-- Content injected here -->
            </div>
        </section>

        <!-- Why Political Parties Exist -->
        <section class="mb-12">
            <h2 id="why-title" class="section-heading text-2xl sm:text-3xl font-bold pl-4 mb-6"></h2>
            <div id="why-content" class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Content injected here -->
            </div>
        </section>

        <!-- Origins and Fear of Factions -->
        <section class="mb-12">
            <h2 id="origins-title" class="section-heading text-2xl sm:text-3xl font-bold pl-4 mb-6"></h2>
            <div id="origins-content" class="bg-white p-6 rounded-xl card-shadow grid lg:grid-cols-3 gap-6">
                <!-- Content injected here -->
            </div>
        </section>

        <!-- Timeline -->
        <section class="mb-12">
            <h2 id="timeline-title" class="section-heading text-2xl sm:text-3xl font-bold pl-4 mb-6"></h2>
            <div id="timeline-content" class="space-y-8">
                <!-- Content injected here -->
            </div>
        </section>

        <!-- Key Vocabulary -->
        <section class="mb-12">
            <h2 id="vocab-title" class="section-heading text-2xl sm:text-3xl font-bold pl-4 mb-6"></h2>
            <div id="vocab-content" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Content injected here -->
            </div>
        </section>

        <!-- Concept Summary -->
        <section class="mb-12">
            <h2 id="summary-title" class="section-heading text-2xl sm:text-3xl font-bold pl-4 mb-6"></h2>
            <ul id="summary-content" class="bg-white p-6 rounded-xl card-shadow space-y-3 list-disc pl-5">
                <!-- Content injected here -->
            </ul>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-4 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm font-light">
            <p>For Mr. Miljus’ US government class.</p>
        </div>
    </footer>

    <script>
        let currentLang = 'en';
        
        // Define a map for converting Tailwind classes to Hex codes for reliable inline styles
        const colorMap = {
            'text-red-500': '#ef4444',
            'text-blue-500': '#3b82f6',
            'text-yellow-600': '#d97706',
            'text-green-500': '#22c55e',
            'text-purple-600': '#7c3aed',
            'text-indigo-600': '#4f46e5',
            'text-teal-600': '#0d9488',
            'text-pink-600': '#db2777',
            // Specific colors for timeline dots / borders
            'bg-blue-600': '#2563eb',
            'bg-red-600': '#dc2626',
            // Default border color (gray-100) for hover mouseout
            'border-gray-100': '#f3f4f6' 
        };

        function getColorHex(textColorClass) {
            return colorMap[textColorClass] || '#cbd5e1';
        }

        // Helper function to create SVG icons (using simplified paths for visual interest)
        function createIcon(dPath, colorClass) {
            return `
                <svg class="w-8 h-8 ${colorClass} shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="${dPath}"></path>
                </svg>
            `;
        }

        // --- CONTENT DATA (English and Spanish) ---
        // (Content is preserved from the original request)
        const content = {
            en: {
                title: "The Evolution of U.S. Political Parties",
                switchBtn: "Cambiar a Español",
                defsTitle: "✅ Foundational Definitions (Clear & Precise)",
                defs: [
                    { 
                        term: "Political Ideology", 
                        icon: "M13 10V3L4 14h7v7l9-11h-7z", // Lightning/Idea
                        def: "A set of beliefs and values about how government should work. Political ideologies answer questions like: What should the government do? How big or active should it be? How should rights, freedoms, and responsibilities be balanced?",
                        color: "text-red-500"
                    },
                    { 
                        term: "Political Party", 
                        icon: "M17 20h2a2 2 0 002-2V5a2 2 0 00-2-2h-2.5a.5.5 0 01-.5-.5V1.5", // Flag/Organization
                        def: "An organized group of people who share a political ideology and work together to: win elections, pass laws, and influence government.",
                        color: "text-blue-500"
                    },
                    { 
                        term: "Factions", 
                        icon: "M8 9l3 3 2-2 3 3m-3-3V4M3 7h1.5a.5.5 0 01.5.5v13a.5.5 0 01-.5.5H3", // Grouping/Division
                        def: "A subset of people inside a society (or party) who share a particular interest or passion. James Madison warned in *Federalist No. 10* that factions were dangerous because they could pursue their own interest over the public good. He also said factions were unavoidable—people naturally disagree.",
                        color: "text-yellow-600"
                    },
                    { 
                        term: "Party System / Realignment / ID", 
                        icon: "M3 10h18M3 14h18m-9-4v8", // Timeline/Change
                        def: "Three related concepts: **Party System** (a period defined by competing parties); **Party Realignment** (a major, long-term shift in which groups support which political party); **Party Identification** (the party a person feels closest to or usually supports).",
                        color: "text-green-500"
                    }
                ],
                whyTitle: "✅ Why Political Parties Exist (Clear, Not Simplified or Childish)",
                why: [
                    { title: "1. Organize Beliefs", def: "Parties take broad ideological tendencies (liberal, conservative, etc.) and turn them into coherent platforms.", icon: "M11 19l-9-9 9-9", color: "text-purple-600" },
                    { title: "2. Structure Elections", def: "Parties recruit candidates, raise money, and help voters choose between competing visions.", icon: "M14 10l-2-7-2 7m4 0l-2 7-2-7", color: "text-indigo-600" },
                    { title: "3. Coordinate Government", def: "In Congress and state legislatures, parties help organize coalitions that make it possible to pass laws.", icon: "M12 2v20M2 12h20", color: "text-teal-600" },
                    { title: "4. Provide Identity", def: "Most voters rely on party labels as a shortcut for choosing candidates that align with their beliefs.", icon: "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14c-4.418 0-8 3.582-8 8v2h16v-2c0-4.418-3.582-8-8-8z", color: "text-pink-600" }
                ],
                originsTitle: "✅ Origins: Federalists, Anti-Federalists, and the Fear of Factions",
                origins: [
                    { 
                        title: "Before the Constitution", 
                        content: `Americans divided into two camps over whether to replace the Articles of Confederation:
                            <ul class="list-disc pl-5 mt-2 space-y-1">
                                <li>**Federalists:** Wanted a strong national government (Hamilton, Madison, Jay).</li>
                                <li>**Anti-Federalists:** Feared concentrated power; demanded a Bill of Rights (Jefferson, Henry, Mason).</li>
                            </ul>` 
                    },
                    { 
                        title: "The Founders’ Fear", 
                        content: `Madison argued that factions were inevitable but must be controlled through:
                            <ul class="list-disc pl-5 mt-2 space-y-1">
                                <li>A large republic.</li>
                                <li>Numerous competing interests.</li>
                                <li>A system that prevents any one group from dominating.</li>
                            </ul>` 
                    },
                    { 
                        title: "How Factions Became Parties", 
                        content: `After the Constitution was adopted, Hamilton and Jefferson clashed over:
                            <ul class="list-disc pl-5 mt-2 space-y-1">
                                <li>Banking & taxes.</li>
                                <li>Foreign alliances.</li>
                                <li>Scope of federal authority.</li>
                            </ul>
                            These disagreements solidified into the first political parties.` 
                    }
                ],
                timelineTitle: "✅ Timeline of U.S. Political Party Evolution",
                timeline: [
                    { era: "I. First Party System (1790s–1820s)", parties: "Federalists vs. Democratic-Republicans", details: "Federalists (strong national govt, bank, commerce) weakened after the War of 1812, leading to the 'Era of Good Feelings' dominated by D-Rs (states’ rights, agriculture)." },
                    { era: "II. Second Party System (1820s–1850s)", parties: "Democrats vs. Whigs", details: "Democrats (Jackson) focused on expansion and limited federal economy. Whigs supported modernization and a strong Congress. Era saw the rise of mass participation, with increasing tensions over slavery." },
                    { era: "III. Third Party System (1850s–1890s)", parties: "Democrats vs. Republicans", details: "Republican Party founded (1854) to stop slavery's spread. Civil War and Reconstruction solidified regional divides (Democrats in South, Republicans in North)."},
                    { era: "IV. Fourth Party System (1890s–1930s)", parties: "Progressivism & Industrial America", details: "Issues included big business regulation, labor rights, and women’s suffrage. Republicans were pro-business; Democrats were influenced by populist and reform movements."},
                    { era: "V. Fifth Party System (1930s–1960s)", parties: "New Deal Coalition", details: "FDR’s New Deal united Democrats (union workers, minorities, urban voters). Republicans focused on limited government and business interests. Parties gradually shift positions on race and rights."},
                    { era: "VI. Sixth Party System (1960s–Present)", parties: "Civil Rights Era to Modern Polarization", details: "Democrats' support for Civil Rights drove Southern whites to the Republican Party. This realignment led to the highly polarized, ideologically sorted landscape of today."}
                ],
                vocabTitle: "✅ Key Vocabulary (Clear Definitions, No Pandering)",
                vocab: [
                    { term: "Political Spectrum", def: "A range of ideological positions—typically from left (liberal) to right (conservative)."},
                    { term: "Liberalism", def: "Belief in active government to address social inequality and protect rights."},
                    { term: "Conservatism", def: "Belief in limited government, traditional values, free markets, and individual responsibility."},
                    { term: "Populism", def: "Appeals to the common citizen, often against elites or established institutions."},
                    { term: "Libertarianism", def: "Belief in individual freedom and minimal government involvement in both economic and personal life."},
                    { term: "Nationalism", def: "Emphasis on national identity, sovereignty, and protection of domestic interests."},
                    { term: "Platform", def: "A party’s formal statement of principles and policy positions."},
                    { term: "Coalition", def: "A collection of voting groups that support a political party or candidate."},
                    { term: "Dealignment", def: "When voters drift away from both major parties and identify as Independent."}
                ],
                summaryTitle: "✅ Concept Summary (Clear, Concise, High-Level)",
                summary: [
                    "The U.S. didn’t start with political parties—it started with factions, especially Federalists and Anti-Federalists.",
                    "Parties formed because major disagreements over banking, power, foreign policy, and the Constitution required organized teams.",
                    "Over time, U.S. parties changed dramatically due to slavery, industrialization, immigration, civil rights, and cultural shifts.",
                    "Modern Democrats and Republicans are the result of multiple realignments, not a simple continuation of the founding parties.",
                    "Political parties exist to organize ideology, win elections, and coordinate government, making them essential to how the U.S. political system functions."
                ]
            },
            es: {
                title: "La Evolución de los Partidos Políticos en EE. UU.",
                switchBtn: "Switch to English",
                defsTitle: "✅ Definiciones Fundamentales (Claras y Precisas)",
                defs: [
                    { 
                        term: "Ideología Política", 
                        icon: "M13 10V3L4 14h7v7l9-11h-7z",
                        def: "Un conjunto de creencias y valores sobre cómo debe funcionar el gobierno. Las ideologías políticas responden a preguntas como: ¿Qué debería hacer el gobierno? ¿Qué tan grande o activo debe ser? ¿Cómo deben equilibrarse los derechos, las libertades y las responsabilidades?",
                        color: "text-red-500"
                    },
                    { 
                        term: "Partido Político", 
                        icon: "M17 20h2a2 2 0 002-2V5a2 2 0 00-2-2h-2.5a.5.5 0 01-.5-.5V1.5",
                        def: "Un grupo organizado de personas que comparten una ideología política y trabajan conjuntamente para: ganar elecciones, aprobar leyes e influir en el gobierno.",
                        color: "text-blue-500"
                    },
                    { 
                        term: "Facciones", 
                        icon: "M8 9l3 3 2-2 3 3m-3-3V4M3 7h1.5a.5.5 0 01.5.5v13a.5.5 0 01-.5.5H3",
                        def: "Un subconjunto de personas dentro de una sociedad (o partido) que comparten un interés o pasión particular. Madison en *El Federalista N.º 10* advirtió que las facciones eran peligrosas porque podían perseguir su propio interés por encima del bien público. También dijo que eran inevitables, ya que las personas naturalmente discrepan.",
                        color: "text-yellow-600"
                    },
                    { 
                        term: "Sistema / Realineamiento / Identificación de Partido", 
                        icon: "M3 10h18M3 14h18m-9-4v8",
                        def: "Tres conceptos relacionados: **Sistema de Partidos** (un período definido por partidos en competencia); **Realineamiento de Partidos** (un cambio importante y a largo plazo en qué grupos apoyan a qué partido); **Identificación de Partido** (el partido al que una persona se siente más cercana o que generalmente apoya).",
                        color: "text-green-500"
                    }
                ],
                whyTitle: "✅ Por Qué Existen los Partidos Políticos (Claro, No Simplificado)",
                why: [
                    { title: "1. Organizar Creencias", def: "Los partidos toman amplias tendencias ideológicas (liberal, conservador, etc.) y las convierten en plataformas coherentes.", icon: "M11 19l-9-9 9-9", color: "text-purple-600" },
                    { title: "2. Estructurar Elecciones", def: "Los partidos reclutan candidatos, recaudan dinero y ayudan a los votantes a elegir entre visiones contrapuestas.", icon: "M14 10l-2-7-2 7m4 0l-2 7-2-7", color: "text-indigo-600" },
                    { title: "3. Coordinar el Gobierno", def: "En el Congreso y las legislaturas, los partidos ayudan a organizar coaliciones que hacen posible la aprobación de leyes.", icon: "M12 2v20M2 12h20", color: "text-teal-600" },
                    { title: "4. Proporcionar Identidad", def: "La mayoría de los votantes confían en las etiquetas partidistas como un atajo para elegir candidatos que se alineen con sus creencias.", icon: "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14c-4.418 0-8 3.582-8 8v2h16v-2c0-4.418-3.582-8-8-8z", color: "text-pink-600" }
                ],
                originsTitle: "✅ Orígenes: Federalistas, Antifederalistas y el Miedo a las Facciones",
                origins: [
                    { 
                        title: "Antes de la Constitución", 
                        content: `Los estadounidenses se dividieron en dos bandos sobre si reemplazar los Artículos de la Confederación:
                            <ul class="list-disc pl-5 mt-2 space-y-1">
                                <li>**Federalistas:** Querían un gobierno nacional fuerte (Hamilton, Madison, Jay).</li>
                                <li>**Antifederalistas:** Temían el poder concentrado; exigieron una Declaración de Derechos (Jefferson, Henry, Mason).</li>
                            </ul>` 
                    },
                    { 
                        title: "El Miedo de los Fundadores", 
                        content: `Madison argumentó que las facciones eran inevitables pero debían controlarse mediante:
                            <ul class="list-disc pl-5 mt-2 space-y-1">
                                <li>Una república grande.</li>
                                <li>Numerosos intereses en competencia.</li>
                                <li>Un sistema que impida que un solo grupo domine.</li>
                            </ul>` 
                    },
                    { 
                        title: "Cómo las Facciones se Convirtieron en Partidos", 
                        content: `Una vez adoptada la Constitución, Hamilton y Jefferson se enfrentaron por:
                            <ul class="list-disc pl-5 mt-2 space-y-1">
                                <li>Banca e impuestos.</li>
                                <li>Alianzas extranjeras.</li>
                                <li>Alcance de la autoridad federal.</li>
                            </ul>
                            Estos desacuerdos se solidificaron en los primeros partidos políticos.` 
                    }
                ],
                timelineTitle: "✅ Cronología de la Evolución de los Partidos Políticos de EE. UU.",
                timeline: [
                    { era: "I. Primer Sistema de Partidos (1790s–1820s)", parties: "Federalistas vs. Demócratas-Republicanos", details: "Los Federalistas (gobierno nacional fuerte, banca, comercio) se debilitaron después de la Guerra de 1812, dando paso a la 'Era de los Buenos Sentimientos' dominada por los D-R (derechos de los estados, agricultura)."},
                    { era: "II. Segundo Sistema de Partidos (1820s–1850s)", parties: "Demócratas vs. Whigs", details: "Los Demócratas (Jackson) se centraron en la expansión y el gobierno federal económico limitado. Los Whigs apoyaron la modernización y un Congreso fuerte. Época de creciente participación masiva y tensiones por la esclavitud."},
                    { era: "III. Tercer Sistema de Partidos (1850s–1890s)", parties: "Demócratas vs. Republicanos", details: "El Partido Republicano se fundó (1854) para detener la propagación de la esclavitud. La Guerra Civil y la Reconstrucción solidificaron las divisiones regionales (Demócratas en el Sur, Republicanos en el Norte)."},
                    { era: "IV. Cuarto Sistema de Partidos (1890s–1930s)", parties: "Progresismo y América Industrial", details: "Los temas incluyeron la regulación de grandes empresas, los derechos laborales y el sufragio femenino. Los Republicanos eran pro-negocios; los Demócratas fueron influenciados por movimientos populistas y de reforma."},
                    { era: "V. Quinto Sistema de Partidos (1930s–1960s)", parties: "Coalición del New Deal", details: "El New Deal de FDR unió a los Demócratas (sindicalistas, minorías, votantes urbanos). Los Republicanos se centraron en el gobierno limitado y los intereses empresariales. Los partidos cambian gradualmente de posición sobre la raza y los derechos."},
                    { era: "VI. Sexto Sistema de Partidos (1960s–Presente)", parties: "Era de los Derechos Civiles a la Polarización Moderna", details: "El apoyo de los Demócratas a los Derechos Civiles impulsó a los blancos del Sur al Partido Republicano. Este realineamiento condujo al panorama altamente polarizado e ideológicamente clasificado de hoy."}
                ],
                vocabTitle: "✅ Vocabulario Clave (Definiciones Claras)",
                vocab: [
                    { term: "Espectro Político", def: "Un rango de posiciones ideológicas, típicamente de izquierda (liberal) a derecha (conservadora)."},
                    { term: "Liberalismo", def: "Creencia en un gobierno activo para abordar la desigualdad social y proteger los derechos."},
                    { term: "Conservadurismo", def: "Creencia en el gobierno limitado, los valores tradicionales, los mercados libres y la responsabilidad individual."},
                    { term: "Populismo", def: "Apela al ciudadano común, a menudo contra las élites o las instituciones establecidas."},
                    { term: "Libertarismo", def: "Creencia en la libertad individual y la mínima participación del gobierno tanto en la vida económica como personal."},
                    { term: "Nacionalismo", def: "Énfasis en la identidad nacional, la soberanía y la protección de los intereses internos."},
                    { term: "Plataforma", def: "Declaración formal de principios y posiciones políticas de un partido."},
                    { term: "Coalición", def: "Una colección de grupos votantes que apoyan a un partido político o candidato."},
                    { term: "Desalineamiento", def: "Cuando los votantes se alejan de ambos partidos principales y se identifican como Independientes."}
                ],
                summaryTitle: "✅ Resumen del Concepto (Claro, Conciso, Alto Nivel)",
                summary: [
                    "EE. UU. no comenzó con partidos políticos, sino con facciones, especialmente Federalistas y Antifederalistas.",
                    "Los partidos se formaron porque los principales desacuerdos sobre la banca, el poder, la política exterior y la Constitución requerían equipos organizados.",
                    "Con el tiempo, los partidos de EE. UU. cambiaron drásticamente debido a la esclavitud, la industrialización, la inmigración, los derechos civiles y los cambios culturales.",
                    "Los Demócratas y Republicanos modernos son el resultado de múltiples realineamientos, no una simple continuación de los partidos fundacionales.",
                    "Los partidos políticos existen para organizar la ideología, ganar elecciones y coordinar el gobierno, haciéndolos esenciales para el funcionamiento del sistema político de EE. UU."
                ]
            }
        };

        // --- DYNAMIC RENDERING FUNCTIONS ---

        function renderDefinitions(data) {
            const container = document.getElementById('defs-content');
            container.innerHTML = data.map(item => `
                <div style="border-color: ${getColorHex(item.color)};" class="bg-white p-6 rounded-xl border-t-4 border-b-2 border-l-4 border-r-2 card-shadow transition hover:scale-[1.01] duration-300 ease-in-out">
                    <div class="flex items-center mb-3">
                        ${createIcon(item.icon, item.color)}
                        <h3 class="ml-4 text-xl font-bold">${item.term}</h3>
                    </div>
                    <p class="text-sm sm:text-base text-gray-600">${item.def}</p>
                </div>
            `).join('');
        }

        function renderWhyParties(data) {
            const container = document.getElementById('why-content');
            // Using inline styles for hover effect to ensure color classes are applied
            const defaultBorderColor = getColorHex('border-gray-100');

            container.innerHTML = data.map(item => `
                <div class="bg-white p-5 rounded-xl border-t-2 border-b-4 border-l-2 border-r-4 border-gray-100 shadow-md flex flex-col items-start transition duration-300" 
                     onmouseover="this.style.borderBottomColor = '${getColorHex(item.color)}'" 
                     onmouseout="this.style.borderBottomColor = '${defaultBorderColor}'" 
                     style="border-bottom-color: ${defaultBorderColor};">
                    <div class="mb-3">${createIcon(item.icon, item.color)}</div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">${item.title}</h3>
                    <p class="text-sm text-gray-600">${item.def}</p>
                </div>
            `).join('');
        }

        function renderOrigins(data) {
            const container = document.getElementById('origins-content');
            container.innerHTML = data.map(item => `
                <div class="p-4 border-l-4 border-gray-200 lg:border-l-0 lg:border-t-4 lg:pt-0 lg:mt-4">
                    <h3 class="text-xl font-bold mb-2 text-gray-900">${item.title}</h3>
                    <p class="text-gray-600 text-sm">${item.content}</p>
                </div>
            `).join('');
        }

        function renderTimeline(data) {
            const container = document.getElementById('timeline-content');
            container.innerHTML = data.map((item, index) => {
                // Using hex codes for dot background and border color to fix dynamic class issue
                const dotColor = index % 2 === 0 ? getColorHex('bg-blue-600') : getColorHex('bg-red-600');
                const borderColor = dotColor;

                return `
                    <div class="relative pl-8 sm:pl-12">
                        <!-- Vertical Line and Dot -->
                        <div class="absolute w-1 h-full bg-gray-300 left-0 sm:left-4"></div>
                        <div style="background-color: ${dotColor};" class="absolute w-4 h-4 rounded-full left-[-8px] sm:left-[12px] top-1 shadow-md"></div>
                        
                        <div style="border-left-color: ${borderColor};" class="bg-white p-5 rounded-xl card-shadow ml-4 sm:ml-8 border-l-4">
                            <h3 class="text-lg sm:text-xl font-bold mb-1">${item.era}</h3>
                            <p class="text-sm font-semibold text-gray-700 mb-2">${item.parties}</p>
                            <p class="text-sm text-gray-600">${item.details}</p>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderVocabulary(data) {
            const container = document.getElementById('vocab-content');
            container.innerHTML = data.map(item => `
                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:border-gray-300 transition duration-300">
                    <h3 class="text-base font-bold text-gray-800 mb-1">${item.term}</h3>
                    <p class="text-sm text-gray-500">${item.def}</p>
                </div>
            `).join('');
        }

        function renderSummary(data) {
            const container = document.getElementById('summary-content');
            container.innerHTML = data.map(item => `<li class="text-base">${item}</li>`).join('');
        }


        // --- MAIN APPLICATION LOGIC ---

        function updateContent() {
            const data = content[currentLang];

            // Update main titles and button
            document.getElementById('main-title').textContent = data.title;
            document.getElementById('lang-switch-btn').textContent = data.switchBtn;
            document.documentElement.lang = currentLang;

            // Render Sections
            document.getElementById('defs-title').textContent = data.defsTitle;
            renderDefinitions(data.defs);

            document.getElementById('why-title').textContent = data.whyTitle;
            renderWhyParties(data.why);

            document.getElementById('origins-title').textContent = data.originsTitle;
            renderOrigins(data.origins);

            document.getElementById('timeline-title').textContent = data.timelineTitle;
            renderTimeline(data.timeline);

            document.getElementById('vocab-title').textContent = data.vocabTitle;
            renderVocabulary(data.vocab);

            document.getElementById('summary-title').textContent = data.summaryTitle;
            renderSummary(data.summary);
        }

        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'es' : 'en';
            updateContent();
        }

        // Initial load
        window.onload = updateContent;
    </script>
</body>
</html>

