<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® Political Parties: The Complete Interactive Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=Bebas+Neue&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(270deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 800% 800%;
            animation: gradientShift 20s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .particle {
            position: fixed;
            pointer-events: none;
            opacity: 0.3;
            animation: float 20s infinite ease-in-out;
            z-index: -1;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-100px) rotate(180deg); }
        }

        .header-title {
            font-family: 'Bebas Neue', cursive;
            font-size: 3.5rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .lang-switch {
            position: relative;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            padding: 5px;
            backdrop-filter: blur(10px);
        }

        .lang-btn {
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 700;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 1;
            cursor: pointer;
            font-size: 1rem;
            border: none;
            background: transparent;
            color: white;
        }

        .lang-btn:hover {
            transform: translateY(-2px);
        }

        .lang-btn.active {
            background: white;
            color: #764ba2;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .module-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transform-style: preserve-3d;
        }

        .module-card:hover {
            transform: translateY(-10px) rotateX(5deg);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .module-card.active {
            transform: scale(1.05);
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .module-card .icon {
            font-size: 3rem;
            margin-bottom: 10px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .module-card .number {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 4rem;
            font-weight: 900;
            opacity: 0.1;
            font-family: 'Bebas Neue';
        }

        .content-box {
            background: white;
            border-radius: 30px;
            padding: 40px;
            margin: 30px auto;
            max-width: 1200px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
            animation: slideUp 0.5s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .content-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 10px;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 300% 300%;
            animation: gradientMove 3s ease infinite;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .content-box h2 {
            font-family: 'Bebas Neue', cursive;
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .content-box h3 {
            font-size: 1.5rem;
            font-weight: 800;
            margin: 30px 0 15px 0;
            color: #764ba2;
            border-left: 5px solid #667eea;
            padding-left: 15px;
        }

        .content-box ul {
            list-style: none;
            padding: 0;
        }

        .content-box li {
            margin-bottom: 15px;
            padding-left: 30px;
            position: relative;
            line-height: 1.8;
        }

        .content-box li::before {
            content: 'â†’';
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .quiz-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-block;
            margin: 20px 10px 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border: none;
            font-size: 1rem;
        }

        .quiz-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .fun-fact {
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .fun-fact::before {
            content: 'ğŸ’¡';
            position: absolute;
            top: -10px;
            left: 20px;
            font-size: 2rem;
            background: white;
            padding: 5px;
            border-radius: 50%;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            border-left: 4px solid #667eea;
        }

        .timeline-item:hover {
            transform: translateX(10px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .timeline-era {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .timeline-era:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .timeline-era h4 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .era-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .era-content.expanded {
            max-height: 1000px;
        }

        .glossary-term {
            color: #667eea;
            font-weight: 700;
            cursor: help;
            border-bottom: 2px dotted #667eea;
            position: relative;
        }

        .tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 10px;
            border-radius: 10px;
            font-size: 0.9rem;
            width: 200px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            z-index: 1000;
        }

        .glossary-term:hover .tooltip {
            opacity: 1;
        }

        .achievement {
            position: fixed;
            bottom: 20px;
            right: -300px;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: right 0.5s ease;
            z-index: 1000;
        }

        .achievement.show {
            right: 20px;
        }

        .quiz-container {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin: 20px 0;
        }

        .quiz-question {
            font-size: 1.3rem;
            margin-bottom: 20px;
        }

        .quiz-option {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-option:hover {
            background: rgba(255,255,255,0.4);
            transform: translateX(5px);
        }

        .interactive-map {
            background: #f0f0f0;
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .map-state {
            display: inline-block;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .map-state.red {
            background: #ff6b6b;
            color: white;
        }

        .map-state.blue {
            background: #74b9ff;
            color: white;
        }

        .map-state.purple {
            background: #a29bfe;
            color: white;
        }

        @media (max-width: 768px) {
            .header-title {
                font-size: 2rem;
            }
            
            .module-grid {
                grid-template-columns: 1fr;
            }
            
            .content-box {
                padding: 20px;
            }
            
            .content-box h2 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="animated-bg"></div>
    
    <!-- Floating Particles -->
    <div class="particle" style="top: 10%; left: 10%; font-size: 30px;">ğŸ—³ï¸</div>
    <div class="particle" style="top: 20%; left: 80%; font-size: 25px; animation-delay: 3s;">âš–ï¸</div>
    <div class="particle" style="top: 60%; left: 15%; font-size: 35px; animation-delay: 7s;">ğŸ›ï¸</div>
    <div class="particle" style="top: 70%; left: 70%; font-size: 28px; animation-delay: 5s;">ğŸ“œ</div>
    <div class="particle" style="top: 40%; left: 50%; font-size: 32px; animation-delay: 2s;">ğŸ—½</div>

    <!-- Header -->
    <header class="relative z-10 p-6 text-white">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center">
            <h1 class="header-title mb-4 md:mb-0" id="main-title">Political Parties: The Game ğŸ®</h1>
            <div class="lang-switch flex gap-2">
                <button class="lang-btn active" onclick="changeLanguage('en')">ğŸ‡ºğŸ‡¸ EN</button>
                <button class="lang-btn" onclick="changeLanguage('es')">ğŸ‡ªğŸ‡¸ ES</button>
                <button class="lang-btn" onclick="changeLanguage('fr')">ğŸ‡«ğŸ‡· FR</button>
            </div>
        </div>
    </header>

    <!-- Module Grid -->
    <div class="module-grid" id="module-grid">
        <div class="module-card active" onclick="changeModule('home')" id="card-home">
            <div class="number">ğŸ </div>
            <div class="icon">ğŸ¯</div>
            <h3 id="home-title">Start Here!</h3>
            <p id="home-desc">Your journey begins</p>
        </div>
        
        <div class="module-card" onclick="changeModule('history')" id="card-history">
            <div class="number">ğŸ“œ</div>
            <div class="icon">â°</div>
            <h3 id="history-title">Party Evolution</h3>
            <p id="history-desc">230 years of drama!</p>
        </div>
        
        <div class="module-card" onclick="changeModule('module1')" id="card-module1">
            <div class="number">1</div>
            <div class="icon">ğŸ•¸ï¸</div>
            <h3 id="module1-title">Influence Web</h3>
            <p id="module1-desc">Who really has power?</p>
        </div>
        
        <div class="module-card" onclick="changeModule('module2')" id="card-module2">
            <div class="number">2</div>
            <div class="icon">âš”ï¸</div>
            <h3 id="module2-title">Two-Party Battle</h3>
            <p id="module2-desc">Why only 2 teams?</p>
        </div>
        
        <div class="module-card" onclick="changeModule('module3')" id="card-module3">
            <div class="number">3</div>
            <div class="icon">ğŸ”¥</div>
            <h3 id="module3-title">Primary Chaos</h3>
            <p id="module3-desc">The extreme games</p>
        </div>
        
        <div class="module-card" onclick="changeModule('module4')" id="card-module4">
            <div class="number">4</div>
            <div class="icon">ğŸ—ºï¸</div>
            <h3 id="module4-title">Map Hacking</h3>
            <p id="module4-desc">Gerrymandering exposed</p>
        </div>
        
        <div class="module-card" onclick="changeModule('module5')" id="card-module5">
            <div class="number">5</div>
            <div class="icon">ğŸŒ´</div>
            <h3 id="module5-title">Florida Focus</h3>
            <p id="module5-desc">Your state, your fight</p>
        </div>
        
        <div class="module-card" onclick="changeModule('today')" id="card-today">
            <div class="number">ğŸ®</div>
            <div class="icon">âš¡</div>
            <h3 id="today-title">How It Works</h3>
            <p id="today-desc">The game today</p>
        </div>
    </div>

    <!-- Content Display -->
    <div class="content-box" id="content-box">
        <div id="content-display">
            <!-- Content will be injected here -->
        </div>
    </div>

    <!-- Achievement Notification -->
    <div class="achievement" id="achievement">
        <h3>ğŸ† Achievement Unlocked!</h3>
        <p id="achievement-text">Political Explorer</p>
    </div>

    <!-- Footer -->
    <footer class="text-center p-8 text-white mt-10">
        <p class="text-2xl font-bold" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">For Mr. Miljus' Epic Gov Class</p>
    </footer>

    <script>
        // Content database
        const content = {
            'en': {
                title: "Political Parties: The Game ğŸ®",
                
                home_title: "Start Here!",
                home_desc: "Your journey begins",
                home_content: `
                    <h2>Welcome to the Political Arena! ğŸ®</h2>
                    
                    <div class="fun-fact">
                        <strong>MIND-BLOWING FACT:</strong> George Washington's worst nightmare came true! He warned against political parties in his farewell address, calling them democracy's "worst enemy." Yet here we are with a two-party system that would make him cry! ğŸ˜…
                    </div>

                    <p style="font-size: 1.2rem; line-height: 1.8;">
                        Get ready to unlock the secrets of American politics! This isn't your grandpa's government class â€“ we're diving deep into 230 years of political drama, power plays, and the wild world that shapes YOUR future!
                    </p>

                    <h3>ğŸ¯ Your Mission</h3>
                    <p>Navigate through 7 power-packed modules to become a Political Master! Each unlocks new knowledge about how democracy REALLY works.</p>

                    <div class="quiz-container">
                        <h3>âš¡ Quick Power-Up Vocabulary</h3>
                        <div class="quiz-question">Match these terms to master the basics:</div>
                        <div class="quiz-option" onclick="checkAnswer(this, true)">
                            <strong>Political Party</strong> = Teams fighting to WIN elections ğŸ†
                        </div>
                        <div class="quiz-option" onclick="checkAnswer(this, true)">
                            <strong>Ideology</strong> = Your political personality (Liberal? Conservative?) ğŸ§ 
                        </div>
                        <div class="quiz-option" onclick="checkAnswer(this, true)">
                            <strong>Public Policy</strong> = The rules that actually affect YOUR life ğŸ“œ
                        </div>
                    </div>

                    <button class="quiz-btn" onclick="startAdventure()">ğŸš€ Begin Your Political Journey!</button>
                `,

                history_title: "Party Evolution",
                history_desc: "230 years of drama!",
                history_content: `
                    <h2>The Epic Saga of American Political Parties ğŸ“œ</h2>
                    
                    <div class="fun-fact">
                        <strong>PLOT TWIST:</strong> The Founding Fathers HATED the idea of parties! James Madison called them "factions" that would destroy democracy. Spoiler alert: They formed anyway... immediately! ğŸ¤¦â€â™‚ï¸
                    </div>

                    <h3>ğŸ¬ Click Each Era to Explore the Drama!</h3>

                    <div class="timeline-era" onclick="toggleEra('era1')">
                        <h4>ğŸ© 1790s-1820s: The OG Party System</h4>
                        <p><strong>Federalists vs. Democratic-Republicans</strong></p>
                        <div id="era1" class="era-content">
                            <p style="margin-top: 15px;"><strong>The Players:</strong></p>
                            <ul>
                                <li>ğŸ­ FEDERALISTS (Team Hamilton): Wanted strong federal power, banks, and British vibes</li>
                                <li>ğŸŒ¾ DEMOCRATIC-REPUBLICANS (Team Jefferson): States' rights, farmers, and French revolution energy</li>
                            </ul>
                            <p><strong>The Drama:</strong> These guys literally dueled! Hamilton died in a duel with VP Aaron Burr!</p>
                            <p><strong>The End:</strong> Federalists vanished after War of 1812. One-party rule = "Era of Good Feelings" (boring!)</p>
                        </div>
                    </div>

                    <div class="timeline-era" onclick="toggleEra('era2')">
                        <h4>ğŸª 1820s-1850s: Jackson's Wild Ride</h4>
                        <p><strong>Democrats vs. Whigs</strong></p>
                        <div id="era2" class="era-content">
                            <p style="margin-top: 15px;"><strong>The Players:</strong></p>
                            <ul>
                                <li>ğŸ”¥ DEMOCRATS (Andrew Jackson's squad): Common man! Expansion! Fighting banks!</li>
                                <li>ğŸ›ï¸ WHIGS (Anti-Jackson alliance): Infrastructure! Education! Anti-slavery vibes!</li>
                            </ul>
                            <p><strong>What Changed:</strong> EVERYONE could vote now (well, white men). First mass democracy!</p>
                            <p><strong>The End:</strong> Slavery debate literally tore the Whigs apart. RIP Whig Party.</p>
                        </div>
                    </div>

                    <div class="timeline-era" onclick="toggleEra('era3')">
                        <h4>âš”ï¸ 1850s-1890s: Civil War Shakeup</h4>
                        <p><strong>Republicans Born, Democrats Split</strong></p>
                        <div id="era3" class="era-content">
                            <p style="margin-top: 15px;"><strong>GAME CHANGER:</strong> Republicans formed in 1854 specifically to fight slavery!</p>
                            <ul>
                                <li>ğŸ© REPUBLICANS (Lincoln's new party): End slavery! Save the Union! Industrial power!</li>
                                <li>ğŸ’” DEMOCRATS: Literally split in half - North vs. South</li>
                            </ul>
                            <p><strong>Post-War:</strong> Republicans dominated with big business backing. "Gilded Age" corruption everywhere!</p>
                        </div>
                    </div>

                    <div class="timeline-era" onclick="toggleEra('era4')">
                        <h4>ğŸ­ 1890s-1930s: Progressive Era to Depression</h4>
                        <p><strong>The Economic Battleground</strong></p>
                        <div id="era4" class="era-content">
                            <p style="margin-top: 15px;"><strong>The Issues:</strong></p>
                            <ul>
                                <li>ğŸ“ˆ REPUBLICANS: Pro-business, laissez-faire, "prosperity"</li>
                                <li>ğŸ‘· DEMOCRATS: Starting to side with workers and unions</li>
                            </ul>
                            <p><strong>BOOM:</strong> 1929 Stock Market Crash changes EVERYTHING!</p>
                        </div>
                    </div>

                    <div class="timeline-era" onclick="toggleEra('era5')">
                        <h4>ğŸ“º 1930s-1960s: New Deal Revolution</h4>
                        <p><strong>FDR Changes the Game Forever</strong></p>
                        <div id="era5" class="era-content">
                            <p style="margin-top: 15px;"><strong>The New Coalition:</strong></p>
                            <ul>
                                <li>ğŸ”µ DEMOCRATS: Workers + Minorities + Southern whites (weird combo!)</li>
                                <li>ğŸ”´ REPUBLICANS: Business + Conservatives + Anti-communists</li>
                            </ul>
                            <p><strong>The Crack:</strong> Civil Rights movement starts breaking the Democratic coalition...</p>
                        </div>
                    </div>

                    <div class="timeline-era" onclick="toggleEra('era6')">
                        <h4>ğŸš€ 1960s-Present: The Modern Battlefield</h4>
                        <p><strong>Culture Wars & Polarization</strong></p>
                        <div id="era6" class="era-content">
                            <p style="margin-top: 15px;"><strong>The Switch:</strong> Southern Democrats become Republicans over civil rights!</p>
                            <ul>
                                <li>ğŸ”µ DEMOCRATS: Social justice, environment, government programs</li>
                                <li>ğŸ”´ REPUBLICANS: Traditional values, free market, strong defense</li>
                            </ul>
                            <p><strong>21st Century:</strong> Social media turns politics into 24/7 warfare!</p>
                            <p><strong>Third Parties:</strong> Greens, Libertarians pop up but can't break the duopoly!</p>
                        </div>
                    </div>

                    <button class="quiz-btn" onclick="playTimelineGame()">ğŸ® Play: Party Evolution Game!</button>
                    <div id="timeline-game" style="display: none; background: #f0f0f0; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4>Match Era to Party System</h4>
                        <div style="display: flex; justify-content: space-around;">
                            <div id="eras" style="width: 45%;">
                                <p draggable="true" ondragstart="drag(event)" id="drag1">1790s-1820s</p>
                                <p draggable="true" ondragstart="drag(event)" id="drag2">1820s-1850s</p>
                                <p draggable="true" ondragstart="drag(event)" id="drag3">1850s-1890s</p>
                            </div>
                            <div id="parties" style="width: 45%;">
                                <div ondrop="drop(event)" ondragover="allowDrop(event)" id="drop1">Federalists vs. Democratic-Republicans</div>
                                <div ondrop="drop(event)" ondragover="allowDrop(event)" id="drop2">Democrats vs. Whigs</div>
                                <div ondrop="drop(event)" ondragover="allowDrop(event)" id="drop3">Republicans Born</div>
                            </div>
                        </div>
                        <button onclick="checkTimelineMatch()">Check Answers</button>
                        <p id="timeline-result"></p>
                    </div>
                `,

                today_title: "How It Works",
                today_desc: "The game today",
                today_content: `
                    <h2>How Political Parties Actually Work Today âš¡</h2>
                    
                    <div class="fun-fact">
                        <strong>REALITY CHECK:</strong> Parties aren't in the Constitution! They're basically giant volunteer organizations that hijacked our democracy (in a mostly legal way)! ğŸª
                    </div>

                    <h3>ğŸ¯ The Three Main Jobs of Political Parties</h3>

                    <div class="timeline">
                        <div class="timeline-item">
                            <h4 style="color: #667eea;">1. NOMINATING CANDIDATES ğŸ­</h4>
                            <p><strong>How it works:</strong></p>
                            <ul style="list-style: none;">
                                <li>ğŸ“ LOCAL: Party primaries/caucuses (you vote for your team's players)</li>
                                <li>ğŸª NATIONAL: Epic conventions with balloons and speeches</li>
                                <li>ğŸ“œ PLATFORM: Official list of promises they'll probably break</li>
                            </ul>
                        </div>

                        <div class="timeline-item">
                            <h4 style="color: #764ba2;">2. ORGANIZING ELECTIONS ğŸ—³ï¸</h4>
                            <p><strong>The Ground Game:</strong></p>
                            <ul style="list-style: none;">
                                <li>ğŸ“± Register voters (especially young people like YOU)</li>
                                <li>ğŸ’° Raise MILLIONS for attack ads</li>
                                <li>ğŸšŒ GOTV (Get Out The Vote) - literally bus people to polls</li>
                                <li>ğŸ¤ Build coalitions (unions for Dems, evangelicals for GOP)</li>
                            </ul>
                        </div>

                        <div class="timeline-item">
                            <h4 style="color: #f093fb;">3. RUNNING GOVERNMENT ğŸ›ï¸</h4>
                            <p><strong>When They Win:</strong></p>
                            <ul style="list-style: none;">
                                <li>ğŸ‘” Choose leaders (Speaker, Committee chairs)</li>
                                <li>ğŸ“Š "Whip" members to vote together (or else!)</li>
                                <li>ğŸ¤ President works with their party to pass laws</li>
                                <li>ğŸ« Control everything from Congress to school boards</li>
                            </ul>
                        </div>
                    </div>

                    <h3>ğŸ—ï¸ The Party Machine Structure</h3>
                    
                    <div class="interactive-map">
                        <h4>Click to Explore Each Level!</h4>
                        <div class="map-state purple" onclick="showPartyLevel('national')">ğŸ›ï¸ NATIONAL (DNC/RNC)</div>
                        <div class="map-state blue" onclick="showPartyLevel('state')">ğŸ—ºï¸ STATE COMMITTEES</div>
                        <div class="map-state red" onclick="showPartyLevel('local')">ğŸ“ LOCAL CHAPTERS</div>
                        <div id="party-level-info" style="margin-top: 20px; padding: 20px; background: white; border-radius: 15px; display: none;">
                            <!-- Info appears here -->
                        </div>
                    </div>

                    <h3>ğŸ’° Follow the Money!</h3>
                    <div class="quiz-container">
                        <div class="quiz-question">How do parties REALLY get power?</div>
                        <div class="quiz-option" onclick="revealMoney(this)">
                            <strong>Super PACs:</strong> Unlimited money from corporations! ğŸ’¸
                        </div>
                        <div class="quiz-option" onclick="revealMoney(this)">
                            <strong>Dark Money:</strong> Anonymous donations (spooky!) ğŸ‘»
                        </div>
                        <div class="quiz-option" onclick="revealMoney(this)">
                            <strong>Small Donors:</strong> Your $5 actually matters! ğŸª™
                        </div>
                    </div>

                    <button class="quiz-btn" onclick="simulateElection()">ğŸ® Run Your Own Campaign!</button>
                    <div id="election-sim" style="display: none; background: #f0f0f0; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4>Campaign Simulator</h4>
                        <p>Choose strategy:</p>
                        <button onclick="runCampaign('attack')">Attack Ads (-10% opponent)</button>
                        <button onclick="runCampaign('policy')">Policy Focus (+5% voters)</button>
                        <p id="campaign-result">Your approval: 50%</p>
                    </div>
                `,

                module1_title: "Influence Web",
                module1_desc: "Who really has power?",
                module1_content: `
                    <h2>Module 1: The Power Players ğŸ•¸ï¸</h2>
                    
                    <div class="fun-fact">
                        <strong>MIND = BLOWN:</strong> In 2020, political spending hit $14 BILLION! That's more than NASA's budget! We literally spend more on attack ads than space exploration! ğŸš€ğŸ’°
                    </div>

                    <h3>ğŸ¥Š The Ultimate Showdown: Parties vs. Interest Groups</h3>
                    
                    <div class="timeline">
                        <div class="timeline-item">
                            <h4 style="color: #667eea; font-weight: 800;">POLITICAL PARTIES ğŸ˜ğŸ«</h4>
                            <p><strong>Goal:</strong> WIN ELECTIONS AT ALL COSTS!</p>
                            <p><strong>Strategy:</strong> "Big Tent" - be vague enough to attract everyone</p>
                            <p><strong>Power Move:</strong> Control entire government branches</p>
                            <p><strong>Weakness:</strong> Must appeal to moderates = can't be too extreme</p>
                        </div>
                        
                        <div class="timeline-item">
                            <h4 style="color: #764ba2; font-weight: 800;">INTEREST GROUPS ğŸ’¼</h4>
                            <p><strong>Goal:</strong> INFLUENCE SPECIFIC POLICIES!</p>
                            <p><strong>Strategy:</strong> Laser-focused on ONE issue (guns, environment, etc.)</p>
                            <p><strong>Power Move:</strong> Pressure whoever's already in power</p>
                            <p><strong>Superpower:</strong> Can be EXTREME because they don't need broad appeal</p>
                        </div>
                    </div>

                    <h3>ğŸ”§ The Influence Toolkit (How They Control Your Life)</h3>
                    
                    <div class="quiz-container">
                        <h4>Match the Tactic to the Example!</h4>
                        <div class="quiz-option" onclick="matchTactic(this, 'lobby')">
                            <strong>ğŸ’° Lobbying:</strong> Ex-politicians getting paid $500K to whisper in Congress's ear
                        </div>
                        <div class="quiz-option" onclick="matchTactic(this, 'pac')">
                            <strong>ğŸ’µ PACs:</strong> NRA donating $30 million to Trump's 2016 campaign
                        </div>
                        <div class="quiz-option" onclick="matchTactic(this, 'grass')">
                            <strong>ğŸ“¢ Grassroots:</strong> Climate activists shutting down highways
                        </div>
                        <div class="quiz-option" onclick="matchTactic(this, 'court')">
                            <strong>âš–ï¸ Litigation:</strong> ACLU suing over abortion bans
                        </div>
                    </div>

                    <h3>ğŸ® The Media: The Ultimate Power Multiplier</h3>
                    <p>Plot twist: Media companies are basically interest groups too! Fox News, CNN, even TikTok shape what you think about politics!</p>

                    <button class="quiz-btn" onclick="showInfluenceWeb()">ğŸ•¸ï¸ See the Full Power Web!</button>
                    <div id="influence-web" style="display: none; background: #f0f0f0; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4>Influence Web</h4>
                        <p>Parties â†’ Interest Groups â†’ Media â†’ Voters</p>
                        <p>Drag to connect!</p>
                        <!-- Simple drag-drop for demo -->
                        <p draggable="true" ondragstart="drag(event)" id="web-drag">Parties</p>
                        <div ondrop="drop(event)" ondragover="allowDrop(event)" id="web-drop">Drop here to connect to Voters</div>
                        <p id="web-result"></p>
                    </div>
                `,

                module2_title: "Two-Party Battle",
                module2_desc: "Why only 2 teams?",
                module2_content: `
                    <h2>Module 2: The Two-Party Monopoly âš”ï¸</h2>
                    
                    <div class="fun-fact">
                        <strong>INSANE BUT TRUE:</strong> In 1992, Ross Perot got 19 MILLION votes (nearly 1 in 5 Americans!) but ZERO electoral votes! Meanwhile, Bill Clinton won with just 43% of votes. Democracy? ğŸ¤¯
                    </div>

                    <h3>ğŸ² Why America is Stuck with Two Parties</h3>
                    
                    <div style="background: linear-gradient(135deg, #ff6b6b, #ee5a24); color: white; padding: 30px; border-radius: 20px; margin: 20px 0;">
                        <h4 style="font-size: 1.8rem;">THE WINNER-TAKE-ALL TRAP ğŸª¤</h4>
                        <p style="font-size: 1.2rem; margin-top: 15px;">Come in 1st = Get EVERYTHING âœ…</p>
                        <p style="font-size: 1.2rem;">Come in 2nd = Get NOTHING âŒ</p>
                        <p style="font-size: 1.2rem;">Come in 3rd = Literally who cares? ğŸ’€</p>
                        <p style="margin-top: 20px;">This isn't the Olympics â€“ there's no silver medal in American politics!</p>
                    </div>

                    <h3>ğŸ§  The Psychological Warfare</h3>
                    
                    <div class="interactive-map">
                        <h4>The "Wasted Vote" Mind Game</h4>
                        <div class="map-state blue" onclick="voteSimulation('democrat')">Vote Democrat ğŸ«</div>
                        <div class="map-state red" onclick="voteSimulation('republican')">Vote Republican ğŸ˜</div>
                        <div class="map-state purple" onclick="voteSimulation('third')">Vote Third Party ğŸ¦„</div>
                        <div id="vote-result" style="margin-top: 20px; padding: 20px; background: white; border-radius: 15px; display: none;">
                            <!-- Results appear here -->
                        </div>
                    </div>

                    <h3>ğŸª Third Parties: The Noble Losers</h3>
                    
                    <div class="timeline">
                        <div class="timeline-item">
                            <h4>ğŸ˜ˆ The Spoiler Effect in Action</h4>
                            <p><strong>2000:</strong> Ralph Nader (Green) got 97,488 votes in Florida</p>
                            <p><strong>Gore lost Florida by:</strong> 537 votes</p>
                            <p><strong>Result:</strong> Bush becomes president, Nader voters cry ğŸ˜­</p>
                        </div>
                        
                        <div class="timeline-item">
                            <h4>ğŸ’¡ The Idea Thieves</h4>
                            <p><strong>Third Party Ideas That Got Stolen:</strong></p>
                            <ul style="list-style: none;">
                                <li>âœ… 40-hour work week (Socialist Party)</li>
                                <li>âœ… Women's suffrage (Multiple parties)</li>
                                <li>âœ… Social Security (Socialist Party)</li>
                                <li>âœ… Direct election of Senators (Populist Party)</li>
                            </ul>
                            <p>Major parties: "Nice ideas, we'll take those!" ğŸ´â€â˜ ï¸</p>
                        </div>
                    </div>

                    <h3>âš¡ The Electoral College: Democracy's Weird Mini-Game</h3>
                    <div class="quiz-container">
                        <div class="quiz-question">Win Florida by 1 vote, what do you get?</div>
                        <div class="quiz-option" onclick="checkEC(this, 'all')">ALL 30 electoral votes! ğŸ‰</div>
                        <div class="quiz-option" onclick="checkEC(this, 'one')">Just 1 electoral vote ğŸ˜</div>
                        <div class="quiz-option" onclick="checkEC(this, 'half')">Half the electoral votes ğŸ¤”</div>
                    </div>

                    <button class="quiz-btn" onclick="playElectoralCollege()">ğŸ® Play: Break the Two-Party System!</button>
                    <div id="ec-game" style="display: none; background: #f0f0f0; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4>Electoral College Game</h4>
                        <p>Assign votes to states to win!</p>
                        <button onclick="assignVotes('blue', 30)">Give Florida to Blue</button>
                        <button onclick="assignVotes('red', 30)">Give Florida to Red</button>
                        <p id="ec-result">Blue: 0 | Red: 0</p>
                    </div>
                `,

                module3_title: "Primary Chaos",
                module3_desc: "The extreme games",
                module3_content: `
                    <h2>Module 3: Primary Elections = Extremism Factory? ğŸ”¥</h2>
                    
                    <div class="fun-fact">
                        <strong>FLORIDA REBELLION 2020:</strong> 57% of Floridians tried to blow up the primary system! Both parties united to kill it. They protect their power like it's the last slice of pizza! ğŸ•
                    </div>

                    <h3>ğŸ­ Choose Your Primary Fighter!</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
                        <div style="background: linear-gradient(135deg, #eb3b5a, #fc5c65); color: white; padding: 25px; border-radius: 15px; cursor: pointer;" onclick="showPrimaryType('closed')">
                            <h4 style="font-size: 1.5rem;">ğŸ”’ CLOSED PRIMARY</h4>
                            <p>(Florida's System)</p>
                            <p style="margin-top: 10px;">Democrats only vote Democrat</p>
                            <p>Republicans only vote Republican</p>
                            <p><strong>Independents? GET OUT! ğŸš«</strong></p>
                        </div>
                        
                        <div style="background: linear-gradient(135deg, #00d2d3, #01a3a4); color: white; padding: 25px; border-radius: 15px; cursor: pointer;" onclick="showPrimaryType('open')">
                            <h4 style="font-size: 1.5rem;">ğŸ”“ OPEN PRIMARY</h4>
                            <p>Anyone can crash any party!</p>
                            <p style="margin-top: 10px;">Democrat today, Republican tomorrow</p>
                            <p><strong>Democracy buffet! ğŸ½ï¸</strong></p>
                        </div>
                        
                        <div style="background: linear-gradient(135deg, #6c5ce7, #a55eea); color: white; padding: 25px; border-radius: 15px; cursor: pointer;" onclick="showPrimaryType('jungle')">
                            <h4 style="font-size: 1.5rem;">ğŸŒ´ JUNGLE PRIMARY</h4>
                            <p>BATTLE ROYALE!</p>
                            <p style="margin-top: 10px;">Everyone fights everyone</p>
                            <p>Top 2 advance (even same party!)</p>
                            <p><strong>Hunger Games style! ğŸ¹</strong></p>
                        </div>
                    </div>
                    <div id="primary-type-info" style="margin-top: 20px; padding: 20px; background: #f0f0f0; border-radius: 15px; display: none;">
                        <!-- Info here -->
                    </div>

                    <h3>ğŸ’¥ How Primaries Create Extremists</h3>
                    
                    <div class="timeline-era" style="background: linear-gradient(135deg, #ff6348, #ff4757);">
                        <h4 style="color: white;">The Death Spiral to Extremism ğŸŒªï¸</h4>
                        <ol style="color: white; font-size: 1.1rem; line-height: 2;">
                            <li>ğŸ“Š Only 10-20% of voters show up to primaries</li>
                            <li>ğŸ”¥ These voters are the MOST partisan/extreme</li>
                            <li>ğŸ¯ Candidates must appeal to extremists to win primary</li>
                            <li>ğŸ˜± Moderates get crushed for not being "pure" enough</li>
                            <li>ğŸ›ï¸ Congress fills with people who HATE compromise</li>
                            <li>ğŸ’” Democracy breaks because nobody can work together</li>
                        </ol>
                    </div>

                    <h3>ğŸ—³ï¸ The Florida Fight: Amendment 3 (2020)</h3>
                    
                    <div class="interactive-map">
                        <h4>What Floridians Actually Wanted:</h4>
                        <div style="background: #2ecc71; color: white; padding: 20px; border-radius: 15px; margin: 10px 0;">
                            <strong>57% VOTED YES:</strong> "Let's try Top-Two primaries!"
                        </div>
                        <div style="background: #e74c3c; color: white; padding: 20px; border-radius: 15px; margin: 10px 0;">
                            <strong>BOTH PARTIES:</strong> "LOL no, we like our closed system"
                        </div>
                        <div style="background: #95a5a6; color: white; padding: 20px; border-radius: 15px; margin: 10px 0;">
                            <strong>RESULT:</strong> Failed (needed 60% to pass) ğŸ˜¤
                        </div>
                    </div>

                    <button class="quiz-btn" onclick="testExtremism()">ğŸ“Š Test: How Extreme Are You?</button>
                    <div id="extremism-test" style="display: none; background: #f0f0f0; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4>Extremism Test</h4>
                        <p>Question 1: Government should be bigger? Yes/No</p>
                        <button onclick="answerExtremism('yes')">Yes</button>
                        <button onclick="answerExtremism('no')">No</button>
                        <p id="extremism-result"></p>
                    </div>
                    <button class="quiz-btn" onclick="primarySimulator()">ğŸ® Primary Election Simulator!</button>
                    <div id="primary-sim" style="display: none; background: #f0f0f0; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4>Primary Simulator</h4>
                        <p>Choose candidate type: Moderate/Extreme</p>
                        <button onclick="simulatePrimary('moderate')">Moderate</button>
                        <button onclick="simulatePrimary('extreme')">Extreme</button>
                        <p id="primary-result">Voter turnout: Low</p>
                    </div>
                `,

                module4_title: "Map Hacking",
                module4_desc: "Gerrymandering exposed",
                module4_content: `
                    <h2>Module 4: Gerrymandering - Political Map Hacking ğŸ—ºï¸</h2>
                    
                    <div class="fun-fact">
                        <strong>ABSOLUTELY WILD:</strong> Maryland's 3rd district looks like a "blood spatter from a crime scene!" North Carolina's 12th was once described as "political pornography!" These aren't districts, they're modern art! ğŸ¨
                    </div>

                    <h3>ğŸ® The Two Cheat Codes of Gerrymandering</h3>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                        <div style="background: linear-gradient(135deg, #ff6b6b, #ff8787); color: white; padding: 30px; border-radius: 20px;">
                            <h4 style="font-size: 1.8rem;">ğŸ¯ "PACKING"</h4>
                            <p style="font-size: 1.1rem; margin-top: 15px;">Stuff ALL your enemies into ONE district!</p>
                            <p>They win that district 90%-10%</p>
                            <p>But lose EVERYWHERE else!</p>
                            <p style="margin-top: 15px;"><strong>Result: Wasted votes!</strong></p>
                        </div>
                        
                        <div style="background: linear-gradient(135deg, #4834d4, #686de0); color: white; padding: 30px; border-radius: 20px;">
                            <h4 style="font-size: 1.8rem;">ğŸ’” "CRACKING"</h4>
                            <p style="font-size: 1.1rem; margin-top: 15px;">Split enemies across MANY districts!</p>
                            <p>They're always 49%, never 51%</p>
                            <p>They lose EVERYTHING!</p>
                            <p style="margin-top: 15px;"><strong>Result: No representation!</strong></p>
                        </div>
                    </div>

                    <h3>ğŸ® Try Gerrymandering Yourself!</h3>
                    
                    <div class="interactive-map" style="background: #f8f9fa; padding: 30px;">
                        <h4>The Gerrymandering Game</h4>
                        <p>You have 50 voters: 30 Blue, 20 Red. Draw 5 districts!</p>
                        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin: 20px 0;">
                            <div class="map-state blue" onclick="drawDistrict(1)">District 1</div>
                            <div class="map-state blue" onclick="drawDistrict(2)">District 2</div>
                            <div class="map-state red" onclick="drawDistrict(3)">District 3</div>
                            <div class="map-state red" onclick="drawDistrict(4)">District 4</div>
                            <div class="map-state purple" onclick="drawDistrict(5)">District 5</div>
                        </div>
                        <p><strong>Can you make Red win 3/5 districts despite having fewer voters?</strong></p>
                        <button class="quiz-btn" onclick="showGerrymanderSolution()">Show Me How! ğŸ¤¯</button>
                        <p id="gerry-result"></p>
                    </div>

                    <h3>ğŸ”„ How Gerrymandering + Primaries = Extremism</h3>
                    
                    <div class="timeline">
                        <div class="timeline-item" style="background: linear-gradient(135deg, #ffeaa7, #fdcb6e);">
                            <h4>Step 1: Create "Safe Seat"</h4>
                            <p>District is 70% Republican or 70% Democrat through gerrymandering</p>
                        </div>
                        <div class="timeline-item" style="background: linear-gradient(135deg, #74b9ff, #a29bfe);">
                            <h4>Step 2: General Election = Pointless</h4>
                            <p>Why campaign? You'll win anyway! The REAL election is the primary</p>
                        </div>
                        <div class="timeline-item" style="background: linear-gradient(135deg, #fd79a8, #e84393);">
                            <h4>Step 3: Primary Voters = Extremists</h4>
                            <p>Only hardcore partisans vote in primaries. Moderates stay home</p>
                        </div>
                        <div class="timeline-item" style="background: linear-gradient(135deg, #e17055, #d63031);">
                            <h4>Step 4: Congress = WWE Wrestling</h4>
                            <p>Filled with extremists who'd rather fight than fix problems!</p>
                        </div>
                    </div>

                    <h3>ğŸŒ´ Florida's "Fair Districts" Battle</h3>
                    <p style="font-size: 1.2rem;">2010: Voters said "NO MORE GERRYMANDERING!"</p>
                    <p style="font-size: 1.2rem;">Legislature: "We'll gerrymander anyway!"</p>
                    <p style="font-size: 1.2rem;">Courts: "Stop that!"</p>
                    <p style="font-size: 1.2rem;">Legislature: "Make us!"</p>
                    <p style="font-size: 1.2rem;"><strong>Result: Still fighting 14 years later! ğŸ¥Š</strong></p>

                    <button class="quiz-btn" onclick="seeYourDistrict()">ğŸ“ See YOUR Gerrymandered District!</button>
                    <div id="district-info" style="display: none; background: #f0f0f0; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4>Your District</h4>
                        <p>Enter ZIP: <input id="zip-input" type="text"></p>
                        <button onclick="fetchDistrict()">Search</button>
                        <p id="district-result">District info will appear here.</p>
                    </div>
                `,

                module5_title: "Florida Focus",
                module5_desc: "Your state, your fight",
                module5_content: `
                    <h2>Module 5: Florida - The Ultimate Swing State ğŸŒ´</h2>
                    
                    <div class="fun-fact">
                        <strong>FLORIDA POWER FACT:</strong> 537 votes in 2000 decided the ENTIRE presidency! That's smaller than your high school! YOUR VOTE could literally change history! ğŸ—³ï¸
                    </div>

                    <h3>ğŸ”¥ 2024 Florida Amendments: The Real-World Boss Battle</h3>
                    
                    <div style="background: linear-gradient(135deg, #00b894, #00cec9); padding: 30px; border-radius: 20px; margin: 20px 0;">
                        <h4 style="color: white; font-size: 2rem;">ğŸŒ¿ Amendment 3: Recreational Weed</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                            <div style="background: rgba(255,255,255,0.9); padding: 15px; border-radius: 10px;">
                                <strong style="color: #0984e3;">DEMOCRATS ğŸ«</strong>
                                <p style="color: #333;">YES! Personal freedom!</p>
                                <p style="color: #333;">Tax revenue!</p>
                                <p style="color: #333;">Criminal justice reform!</p>
                            </div>
                            <div style="background: rgba(255,255,255,0.9); padding: 15px; border-radius: 10px;">
                                <strong style="color: #d63031;">REPUBLICANS ğŸ˜</strong>
                                <p style="color: #333;">NO! Gateway drug!</p>
                                <p style="color: #333;">Think of the children!</p>
                                <p style="color: #333;">Law and order!</p>
                            </div>
                        </div>
                        <div style="background: white; color: #00b894; padding: 15px; border-radius: 10px; margin-top: 20px; text-align: center;">
                            <strong style="font-size: 1.3rem;">RESULT: 57% YES... but FAILED! ğŸ˜¤</strong>
                            <p>Needed 60% (Thanks, Florida's ridiculous threshold!)</p>
                        </div>
                    </div>

                    <div style="background: linear-gradient(135deg, #e84393, #fd79a8); padding: 30px; border-radius: 20px; margin: 20px 0;">
                        <h4 style="color: white; font-size: 2rem;">âš¡ Amendment 4: Abortion Rights</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                            <div style="background: rgba(255,255,255,0.9); padding: 15px; border-radius: 10px;">
                                <strong style="color: #0984e3;">DEMOCRATS ğŸ«</strong>
                                <p style="color: #333;">YES! Women's rights!</p>
                                <p style="color: #333;">Healthcare freedom!</p>
                                <p style="color: #333;">My body, my choice!</p>
                            </div>
                            <div style="background: rgba(255,255,255,0.9); padding: 15px; border-radius: 10px;">
                                <strong style="color: #d63031;">REPUBLICANS ğŸ˜</strong>
                                <p style="color: #333;">NO! Pro-life!</p>
                                <p style="color: #333;">"Abortion til birth!"</p>
                                <p style="color: #333;">Protect the unborn!</p>
                            </div>
                        </div>
                        <div style="background: white; color: #e84393; padding: 15px; border-radius: 10px; margin-top: 20px; text-align: center;">
                            <strong style="font-size: 1.3rem;">The Perfect Example of Party Polarization!</strong>
                            <p>This IS the culture war in action!</p>
                        </div>
                    </div>

                    <h3>ğŸ“š Required Knowledge (SS.912.CG.3.1)</h3>
                    <div class="quiz-container">
                        <h4>Florida says you MUST understand:</h4>
                        <div class="quiz-option">
                            Why democracy > dictatorship (duh!)
                        </div>
                        <div class="quiz-option">
                            How communism/totalitarianism conflict with freedom
                        </div>
                        <div class="quiz-option">
                            American exceptionalism (we're #1! ğŸ‡ºğŸ‡¸)
                        </div>
                    </div>

                    <h3>ğŸ¯ Why YOUR Generation Matters</h3>
                    <ul>
                        <li>Florida's 60% amendment threshold = HARDEST IN AMERICA</li>
                        <li>Youth turnout in 2020 = HIGHEST EVER (but still only 50%)</li>
                        <li>2026 midterms = YOUR first chance to flip the script</li>
                        <li>Climate change, student debt, housing = YOUR issues</li>
                        <li>Boomers vote at 70% rate. You vote at 30%. THEY'RE WINNING!</li>
                    </ul>

                    <button class="quiz-btn" onclick="checkRegistration()">ğŸ“ Check Your Voter Registration NOW!</button>
                    <button class="quiz-btn" onclick="findPollingPlace()">ğŸ“ Find Your Polling Place!</button>
                    <div id="polling-info" style="display: none; background: #f0f0f0; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4>Polling Place Finder</h4>
                        <p>Enter address: <input id="address-input" type="text"></p>
                        <button onclick="fetchPolling()">Search</button>
                        <p id="polling-result">Polling place will appear here.</p>
                    </div>
                `
            },
            'es': {
                title: "Partidos PolÃ­ticos: El Juego ğŸ®",
                
                home_title: "Â¡Comienza AquÃ­!",
                home_desc: "Tu viaje comienza",
                home_content: `
                    <h2>Â¡Bienvenido a la Arena PolÃ­tica! ğŸ®</h2>
                    
                    <div class="fun-fact">
                        <strong>DATO INCREÃBLE:</strong> Â¡La peor pesadilla de George Washington se hizo realidad! AdvirtiÃ³ contra los partidos polÃ­ticos, llamÃ¡ndolos el "peor enemigo" de la democracia. Â¡Y aquÃ­ estamos! ğŸ˜…
                    </div>

                    <p style="font-size: 1.2rem; line-height: 1.8;">
                        Â¡PrepÃ¡rate para desbloquear los secretos de la polÃ­tica estadounidense! 230 aÃ±os de drama polÃ­tico que moldea TU futuro.
                    </p>

                    <h3>ğŸ¯ Tu MisiÃ³n</h3>
                    <p>Â¡Navega por 7 mÃ³dulos para convertirte en un Maestro PolÃ­tico!</p>

                    <button class="quiz-btn" onclick="startAdventure()">ğŸš€ Â¡Comienza Tu Viaje PolÃ­tico!</button>
                `,

                history_title: "EvoluciÃ³n Partidaria",
                history_desc: "Â¡230 aÃ±os de drama!",
                history_content: `
                    <h2>La Saga Ã‰pica de los Partidos PolÃ­ticos ğŸ“œ</h2>
                    
                    <div class="fun-fact">
                        <strong>GIRO ARGUMENTAL:</strong> Â¡Los Padres Fundadores ODIABAN los partidos! Madison los llamÃ³ "facciones" destructivas. Â¡Se formaron de inmediato! ğŸ¤¦â€â™‚ï¸
                    </div>

                    <h3>ğŸ¬ Â¡Haz Clic en Cada Era!</h3>
                    <!-- Spanish content continues... -->
                `,

                today_title: "CÃ³mo Funciona",
                today_desc: "El juego hoy",
                module1_title: "Red de Influencia",
                module1_desc: "Â¿QuiÃ©n tiene el poder?",
                module2_title: "Batalla Bipartidista",
                module2_desc: "Â¿Por quÃ© solo 2?",
                module3_title: "Caos Primario",
                module3_desc: "Los juegos extremos",
                module4_title: "Hackeo de Mapas",
                module4_desc: "Gerrymandering expuesto",
                module5_title: "Enfoque Florida",
                module5_desc: "Tu estado, tu lucha"
            },
            'fr': {
                title: "Partis Politiques: Le Jeu ğŸ®",
                
                home_title: "Commencez Ici!",
                home_desc: "Votre voyage commence",
                home_content: `
                    <h2>Bienvenue dans l'ArÃ¨ne Politique! ğŸ®</h2>
                    
                    <div class="fun-fact">
                        <strong>FAIT INCROYABLE:</strong> Le pire cauchemar de George Washington s'est rÃ©alisÃ©! Il a mis en garde contre les partis politiques. Et nous voici! ğŸ˜…
                    </div>

                    <button class="quiz-btn" onclick="startAdventure()">ğŸš€ Commencez Votre Voyage!</button>
                `,

                history_title: "Ã‰volution des Partis",
                history_desc: "230 ans de drame!",
                today_title: "Comment Ã‡a Marche",
                today_desc: "Le jeu aujourd'hui",
                module1_title: "RÃ©seau d'Influence",
                module1_desc: "Qui a le pouvoir?",
                module2_title: "Bataille Bipartite",
                module2_desc: "Pourquoi seulement 2?",
                module3_title: "Chaos Primaire",
                module3_desc: "Les jeux extrÃªmes",
                module4_title: "Piratage de Cartes",
                module4_desc: "Gerrymandering exposÃ©",
                module5_title: "Focus Floride",
                module5_desc: "Votre Ã©tat, votre combat"
            }
        };

        // State management
        let currentLang = 'en';
        let currentModule = 'home';
        let modulesVisited = new Set(['home']);

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateUI();
        });

        // Language change
        function changeLanguage(lang) {
            currentLang = lang;
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            updateUI();
            showAchievement('Language Explorer', `Now learning in ${lang.toUpperCase()}!`);
        }

        // Module change
        function changeModule(module) {
            currentModule = module;
            modulesVisited.add(module);
            
            document.querySelectorAll('.module-card').forEach(card => {
                card.classList.remove('active');
            });
            document.getElementById(`card-${module}`).classList.add('active');
            
            const contentBox = document.getElementById('content-box');
            contentBox.style.animation = 'none';
            setTimeout(() => {
                contentBox.style.animation = 'slideUp 0.5s ease-out';
            }, 10);
            
            updateUI();
            
            if (modulesVisited.size === 8) {
                showAchievement('Political Master!', 'You\'ve explored everything!');
                launchConfetti();
            }
        }

        // Update UI
        function updateUI() {
            const data = content[currentLang];
            document.getElementById('main-title').textContent = data.title;
            
            ['home', 'history', 'today', 'module1', 'module2', 'module3', 'module4', 'module5'].forEach(module => {
                const titleEl = document.getElementById(`${module}-title`);
                const descEl = document.getElementById(`${module}-desc`);
                if (titleEl) titleEl.textContent = data[`${module}_title`];
                if (descEl) descEl.textContent = data[`${module}_desc`];
            });
            
            document.getElementById('content-display').innerHTML = data[`${currentModule}_content`] || '<h2>Content coming soon!</h2>';
        }

        // Interactive Functions
        function toggleEra(eraId) {
            const era = document.getElementById(eraId);
            era.classList.toggle('expanded');
            showAchievement('History Explorer', 'Discovering the past!');
        }

        function showPartyLevel(level) {
            const info = document.getElementById('party-level-info');
            const content = {
                national: '<strong>NATIONAL LEVEL:</strong> DNC and RNC raise billions, pick presidential candidates, set national strategy!',
                state: '<strong>STATE LEVEL:</strong> Adapt to local issues, pick governors and senators, control redistricting!',
                local: '<strong>LOCAL LEVEL:</strong> School boards, mayors, city councils - where politics actually affects your daily life!'
            };
            info.innerHTML = content[level];
            info.style.display = 'block';
        }

        function checkAnswer(element, correct) {
            element.style.background = correct ? 'linear-gradient(135deg, #00b894, #00cec9)' : 'linear-gradient(135deg, #d63031, #e17055)';
            element.style.color = 'white';
        }

        function voteSimulation(party) {
            const result = document.getElementById('vote-result');
            const outcomes = {
                democrat: 'You voted Democrat! In a safe blue state, you helped run up the popular vote!',
                republican: 'You voted Republican! In a safe red state, you maintained the majority!',
                third: 'You voted Third Party! You made a statement but... did it matter? The two-party system laughs! ğŸ˜ˆ'
            };
            result.innerHTML = `<strong>Result:</strong> ${outcomes[party]}`;
            result.style.display = 'block';
        }

        function showAchievement(title, text) {
            const achievementEl = document.getElementById('achievement');
            const achievementText = document.getElementById('achievement-text');
            achievementText.textContent = text || title;
            achievementEl.classList.add('show');
            setTimeout(() => {
                achievementEl.classList.remove('show');
            }, 3000);
        }

        function launchConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'fixed';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.background = ['#667eea', '#764ba2', '#f093fb', '#4facfe'][Math.floor(Math.random() * 4)];
                confetti.style.borderRadius = '50%';
                confetti.style.zIndex = '9999';
                document.body.appendChild(confetti);
                
                const animation = confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: Math.random() * 3000 + 2000,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                });
                
                animation.onfinish = () => confetti.remove();
            }
        }

        // Game Functions
        function startAdventure() {
            changeModule('history');
        }

        function playTimelineGame() {
            document.getElementById('timeline-game').style.display = 'block';
            showAchievement('Time Traveler', 'Ready to explore history!');
        }

        function checkTimelineMatch() {
            // Simple check for demo - assume correct if dropped
            document.getElementById('timeline-result').textContent = 'Great match! You know your history!';
        }

        function simulateElection() {
            document.getElementById('election-sim').style.display = 'block';
        }

        function runCampaign(strategy) {
            let result = strategy === 'attack' ? 'Opponent down, but voters angry! Approval: 40%' : 'Voters love it! Approval: 60%';
            document.getElementById('campaign-result').textContent = result;
        }

        function showInfluenceWeb() {
            document.getElementById('influence-web').style.display = 'block';
        }

        function matchTactic(element, tactic) {
            element.style.background = 'linear-gradient(135deg, #00b894, #00cec9)';
            element.style.color = 'white';
            showAchievement('Tactic Master', 'You matched a tactic!');
        }

        function playElectoralCollege() {
            document.getElementById('ec-game').style.display = 'block';
        }

        function assignVotes(color, votes) {
            let resultEl = document.getElementById('ec-result');
            let [blue, red] = resultEl.textContent.match(/\d+/g).map(Number);
            if (color === 'blue') blue += votes;
            if (color === 'red') red += votes;
            resultEl.textContent = `Blue: ${blue} | Red: ${red}`;
            if (blue > 270 || red > 270) showAchievement('Electoral Winner', 'You won the college!');
        }

        function showPrimaryType(type) {
            const info = document.getElementById('primary-type-info');
            const contents = {
                closed: 'Closed: Only party members vote. Strict but pure!',
                open: 'Open: Anyone votes! More democratic but risky!',
                jungle: 'Jungle: All in one primary. Top 2 advance!'
            };
            info.innerHTML = contents[type];
            info.style.display = 'block';
        }

        function testExtremism() {
            document.getElementById('extremism-test').style.display = 'block';
        }

        function answerExtremism(answer) {
            let result = answer === 'yes' ? 'You lean left!' : 'You lean right!';
            document.getElementById('extremism-result').textContent = result;
        }

        function primarySimulator() {
            document.getElementById('primary-sim').style.display = 'block';
        }

        function simulatePrimary(type) {
            let result = type === 'moderate' ? 'You lost to extremist! Only 30% support.' : 'You won! Extremists love you, 70% support.';
            document.getElementById('primary-result').textContent = result;
        }

        function drawDistrict(num) {
            document.querySelectorAll('.map-state')[num-1].style.background = '#a29bfe';
            document.getElementById('gerry-result').textContent = `District ${num} redrawn!`;
        }

        function showGerrymanderSolution() {
            alert('ğŸ¤¯ Pack 30 blues into 2 districts (15 each), spread 20 reds across 3 districts with 4 blues each. Red wins 3-2 despite having fewer voters!');
            showAchievement('Map Master', 'You understand gerrymandering!');
        }

        function seeYourDistrict() {
            document.getElementById('district-info').style.display = 'block';
        }

        function fetchDistrict() {
            let zip = document.getElementById('zip-input').value;
            document.getElementById('district-result').textContent = `District for ZIP ${zip}: Example District 1 (Simulated)`;
        }

        function checkRegistration() {
            window.open('https://registertovoteflorida.gov/', '_blank');
            showAchievement('Civic Duty!', 'Taking action!');
        }

        function findPollingPlace() {
            document.getElementById('polling-info').style.display = 'block';
        }

        function fetchPolling() {
            let address = document.getElementById('address-input').value;
            document.getElementById('polling-result').textContent = `Polling place for ${address}: Example Location (Simulated)`;
        }

        function revealMoney(element) {
            element.style.background = 'linear-gradient(135deg, #f39c12, #f1c40f)';
            element.style.color = 'white';
        }

        function checkEC(element, answer) {
            if (answer === 'all') {
                element.style.background = 'linear-gradient(135deg, #00b894, #00cec9)';
                showAchievement('Electoral Expert!', 'You understand winner-take-all!');
            } else {
                element.style.background = 'linear-gradient(135deg, #d63031, #e17055)';
            }
            element.style.color = 'white';
        }

        // Drag and Drop Helpers
        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
        }

        function drop(ev) {
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");
            ev.target.appendChild(document.getElementById(data));
            if (ev.target.id === 'web-drop') document.getElementById('web-result').textContent = 'Connected!';
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key >= '1' && e.key <= '5') {
                changeModule(`module${e.key}`);
            } else if (e.key === 'h') {
                changeModule('home');
            } else if (e.key === 't') {
                changeModule('today');
            } else if (e.key === 'e') {
                changeModule('history');
            }
        });
    </script>
</body>
</html>
